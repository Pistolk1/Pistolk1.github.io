<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Install Ketron Virtual Desktop Bookmarklet</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        .description {
            margin-bottom: 20px;
        }
        .bookmarklet-code {
            background-color: #f4f4f4;
            padding: 10px;
            border: 1px solid #ddd;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }
        .bookmarklet-code input {
            width: 100%;
            border: 1px solid #ddd;
            padding: 10px;
            box-sizing: border-box;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Install Ketron Virtual Desktop Bookmarklet</h1>
        <div class="description">
            <p>This bookmarklet allows you to turn any tab into a virtual desktop with draggable, resizable windows. You can add multiple windows, each displaying a different website, and customize your virtual desktop experience.</p>
            <p>To install the bookmarklet, follow these steps:</p>
            <ol>
                <li>Drag the "Add to Virtual Desktop" button below to your bookmarks bar.</li>
                <li>Click the bookmarklet whenever you want to use the virtual desktop feature.</li>
            </ol>
        </div>
        <div class="bookmarklet-code">
            <label for="bookmarklet-code">Bookmarklet Code:</label><br>
            <input type="text" id="bookmarklet-code" readonly value="javascript:(function()%7Bconst%20style%20%3D%20document.createElement('style')%3Bstyle.textContent%20%3D%20%60.window%20%7Bposition%3A%20absolute%3Bborder%3A%201px%20solid%20%23000%3Bbackground-color%3A%20%23fff%3Bbox-shadow%3A%200%200%2010px%20rgba(0%2C0%2C0%2C0.5)%3Buser-select%3A%20none%3Boverflow%3A%20hidden%3B%7D.window.header%20%7Bheight%3A%2040px%3Bbackground-color%3A%20%23ccc%3Bcursor%3A%20move%3Bdisplay%3A%20flex%3Bjustify-content%3A%20space-between%3Balign-items%3A%20center%3Bpadding%3A%200%205px%3Bbox-sizing%3A%20border-box%3Buser-select%3A%20none%3Bposition%3A%20relative%3B%7D.window.header%20input%20%7Bflex%3A%201%3Bmargin-right%3A%205px%3B%7D.window.header%20button%20%7Bbackground%3A%20%2366f%3Bcolor%3A%20white%3Bborder%3A%20none%3Bpadding%3A%205px%3Bcursor%3A%20pointer%3B%7D.window.header%20button.close%20%7Bbackground%3A%20red%3B%7D.window.header%20button.maximize%20%7Bbackground%3A%20gold%3B%7D.resizer%20%7Bwidth%3A%2010px%3Bheight%3A%2010px%3Bbackground%3A%20%23000%3Bposition%3A%20absolute%3Bbottom%3A%200%3Bright%3A%200%3Bcursor%3A%20se-resize%3B%7D.controls%20%7Bposition%3A%20fixed%3Btop%3A%2010px%3Bright%3A%2010px%3Bz-index%3A%201000000%3B%7D.controls%20button%20%7Bbackground%3A%20%23666%3Bcolor%3A%20white%3Bborder%3A%20none%3Bpadding%3A%2010px%3Bmargin%3A%205px%3Bcursor%3A%20pointer%3B%7D%60%3Bdocument.head.appendChild(style)%3Bconst%20desktop%20%3D%20document.createElement('div')%3Bdesktop.id%20%3D%20'virtual-desktop'%3Bdocument.body.appendChild(desktop)%3Bconst%20controls%20%3D%20document.createElement('div')%3Bcontrols.className%20%3D%20'controls'%3Bcontrols.innerHTML%20%3D%20%60<button%20id%3D"add-window">Add%20Window</button>%3Cinput%20type%3D"file"%20id%3D"load-state"%20style%3D"display%3A%20none;"%20/%3E<button%20id%3D"load-state-button">Load%20State</button>%60%3Bdocument.body.appendChild(controls)%3Bfunction%20makeDraggable(el)%20%7Blet%20isDragging%20%3D%20false%3Blet%20offsetX%2C%20offsetY%3Bconst%20header%20%3D%20el.querySelector('.header')%3Bheader.addEventListener('mousedown'%2C%20function(e)%20%7BisDragging%20%3D%20true%3BoffsetX%20%3D%20e.clientX%20-%20el.getBoundingClientRect().left%3BoffsetY%20%3D%20e.clientY%20-%20el.getBoundingClientRect().top%3Bel.style.zIndex%20%3D%20999999%3B%7D)%3Bdocument.addEventListener('mousemove'%2C%20function(e)%20%7Bif%20(isDragging)%20%7Bel.style.left%20%3D%20e.clientX%20-%20offsetX%20%2B%20'px'%3Bel.style.top%20%3D%20e.clientY%20-%20offsetY%20%2B%20'px'%3B%7D%7D)%3Bdocument.addEventListener('mouseup'%2C%20function()%20%7BisDragging%20%3D%20false%3B%7D)%3B%7Dfunction%20makeResizable(el)%20%7Bconst%20resizer%20%3D%20document.createElement('div')%3Bresizer.className%20%3D%20'resizer'%3Bel.appendChild(resizer)%3Blet%20isResizing%20%3D%20false%3Blet%20startX%2C%20startY%2C%20startWidth%2C%20startHeight%3Bresizer.addEventListener('mousedown'%2C%20function(e)%20%7BisResizing%20%3D%20true%3BstartX%20%3D%20e.clientX%3BstartY%20%3D%20e.clientY%3BstartWidth%20%3D%20parseFloat(getComputedStyle(el%2C%20null).width.replace('px'%2C%20''))%3BstartHeight%20%3D%20parseFloat(getComputedStyle(el%2C%20null).height.replace('px'%2C%20''))%3B%7D)%3Bdocument.addEventListener('mousemove'%2C%20function(e)%20%7Bif%20(isResizing)%20%7Bel.style.width%20%3D%20startWidth%20%2B%20(e.clientX%20-%20startX)%20%2B%20'px'%3Bel.style.height%20%3D%20startHeight%20%2B%20(e.clientY%20-%20startY)%20%2B%20'px'%3B%7D%7D)%3Bdocument.addEventListener('mouseup'%2C%20function()%20%7BisResizing%20%3D%20false%3B%7D)%3B%7Dfunction%20createWindow(url%20%3D%20'https://example.com'%2C%20x%20%3D%20100%2C%20y%20%3D%20100%2C%20width%20%3D%20400%2C%20height%20%3D%20300)%20%7Bconst%20win%20%3D%20document.createElement('div')%3Bwin.className%20%3D%20'window'%3Bwin.style.left%20%3D%20%60${x}px%60%3Bwin.style.top%20%3D%20%60${y}px%60%3Bwin.style.width%20%3D%20%60${width}px%60%3Bwin.style.height%20%3D%20%60${height}px%60%3Bwin.innerHTML%20%3D%20%60<div%20class%3D"header">%3Cinput%20type%3D"text"%20value%3D"${url}"%20placeholder%3D"Enter%20URL">%3Cbutton>Change</button>%3Cbutton%20class%3D"maximize">[]</button>%3Cbutton%20class%3D"close">X</button>%3C/div>%3Ciframe%20src%3D"${url}"%20width%3D"100%%"%20height%3D"100%%"></iframe>%60%3Bdesktop.appendChild(win)%3Bconst%20iframe%20%3D%20win.querySelector('iframe')%3Bconst%20changeButton%20%3D%20win.querySelector('.header%20button')%3BchangeButton.addEventListener('click'%2C%20function()%20%7Bconst%20newURL%20%3D%20win.querySelector('input').value%3Biframe.src%20%3D%20newURL%3B%7D)%3Bconst%20closeButton%20%3D%20win.querySelector('.header%20button.close')%3BcloseButton.addEventListener('click'%2C%20function()%20%7Bwin.remove()%3B%7D)%3Bconst%20maximizeButton%20%3D%20win.querySelector('.header%20button.maximize')%3BmaximizeButton.addEventListener('click'%2C%20function()%20%7Bif%20(win.classList.contains('maximized'))%20%7Bwin.style.width%20%3D%20%60${win.dataset.originalWidth}px%60%3Bwin.style.height%20%3D%20%60${win.dataset.originalHeight}px%60%3Bwin.style.left%20%3D%20%60${win.dataset.originalLeft}px%60%3Bwin.style.top%20%3D%20%60${win.dataset.originalTop}px%60%3Bwin.classList.remove('maximized')%3B%7D%20else%20%7Bwin.dataset.originalWidth%20%3D%20win.offsetWidth%3Bwin.dataset.originalHeight%20%3D%20win.offsetHeight%3Bwin.dataset.originalLeft%20%3D%20win.offsetLeft%3Bwin.dataset.originalTop%20%3D%20win.offsetTop%3Bwin.style.width%20%3D%20100vw%3Bwin.style.height%20%3D%20100vh%3Bwin.style.left%20%3D%200px%3Bwin.style.top%20%3D%200px%3Bwin.classList.add('maximized')%3B%7D%7D)%3BmakeDraggable(win)%3BmakeResizable(win)%3B%7Ddocument.getElementById('add-window').addEventListener('click'%2C%20function()%20%7BcreateWindow()%3B%7D)document.getElementById('load-state-button').addEventListener('click'%2C%20function()%20%7Bdocument.getElementById('load-state').click()%3B%7D)document.getElementById('load-state').addEventListener('change'%2C%20function(e)%20%7Bconst%20file%20%3D%20e.target.files[0]%3Bif%20(file)%20%7Bconst%20reader%20%3D%20new%20FileReader()%3Breader.onload%20%3D%20function()%20%7Bconst%20state%20%3D%20JSON.parse(reader.result)%3Bdocument.querySelectorAll('.window').forEach(win%20%3D%3E%20win.remove())%3Bstate.forEach(win%20%3D%3E%20createWindow(win.url%2C%20win.x%2C%20win.y%2C%20win.width%2C%20win.height))%3B%7D%3Breader.readAsText(file)%3B%7D%7D)%3B%7D)();
